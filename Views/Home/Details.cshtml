@model ASPMVC.Models.SaleAnnouncementModel

@{
    ViewBag.Title = "Ogłoszenie";
}

<h2>Ogłoszenie</h2>

<div>
    <h4>@Html.DisplayFor(model => model.Title)</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            Sprzedawca:
        </dt>

        <dd>
            @Html.DisplayFor(model => model.User.Name)
            @Html.DisplayFor(model => model.User.Surrname)
        </dd>
        <dt>
            Cena:
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Product.Price)
        </dd>
        @if (@ViewBag.Promotion.Count == 1)
        {
            <dt>
                Gratulacje produkt jest przeceniony na:
            </dt>
            <dd>
                - @ViewBag.Promotion[0].PromotionValue %
            </dd>
        }

        <dt>
            Opis ogłoszenia:
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Description)
        </dd>

        <dt>
            Ilość:
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Quantity)
        </dd>

        <dt>
            Status:
        </dt>

        <dd>
            @Html.DisplayFor(model => model.State)
        </dd>

        <dt>
            Data wystawienia:
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Date)
        </dd>

    </dl>
</div>
<p>
    
    @using (Html.BeginForm())
    {
        <div class="row">
            <div class="col-lg-4"><input type="submit" value="Dodaj do koszyka" class="btn btn-light" /></div>
            <div class="col-lg-8"></div>
        </div>
    }    

    @Html.ActionLink("Dodaj opinie", "Create", "OpinionModels", new { id = this.Model.Id }, new { @class = "btn btn-light" }) <br />

    @Html.ActionLink("Cofnij do strony głownej", "Index", null, new { @class = "btn btn-light"})
</p>
<h4>Opinie:</h4>
<div>
<dl>
    @foreach(var item in ViewBag.Opinions)
            {
        <dt>
            @item.ClientId
        </dt>
        <dd>
            @item.Description
        </dd>

            }
</dl>
</div>